% !TeX encoding = UTF-8
% !TeX spellcheck = fr_FR


\newpage
\begin{table}[htp]
	\caption{Maison de la qualité}
	\label{t:cdc_mdlq}
	\centering
	\begin{tabular}{c c}
		\begin{tikzpicture}[font=\sffamily,myfit/.style={fill=white,draw,line width=\mylinewidth,inner sep=-0.5*\mylinewidth,fit=#1},
		cr/.style={path picture={\draw circle (0.3em);}},
		cd/.style={path picture={\draw circle (0.3em); \fill circle (0.1em);}},
		tg/.style={path picture={\draw (-30:0.3em) -- (90:0.3em) -- (210:0.3em) --cycle ;}},]
			\def\mylinewidth{1pt}
			\matrix[matrix of nodes,nodes={draw,line width=\mylinewidth,minimum width=5em,minimum height=3.2em, anchor=center},column sep=-\mylinewidth,row sep=-\mylinewidth,column 1/.style={nodes={anchor=center}},column 2/.style={nodes={anchor=west}}](leg){
				~ & ~ \\
				\textbf{Symbole} & \textbf{Lien} \\
				|[cd]| & FORT \\
				|[cr]| & MOYEN \\
				|[tg]| & FAIBLE \\
			};
			\node[myfit=(leg-1-1) (leg-1-2)]{\fontsize{16}{5} \selectfont\textbf{Légende}};
		\end{tikzpicture}
		&
		\begin{tikzpicture}[font=\sffamily,myfit/.style={fill=white,draw,line width=\mylinewidth,inner sep=-0.5*\mylinewidth,fit=#1},
		cr/.style={path picture={\draw circle (0.3em);}},
		cd/.style={path picture={\draw circle (0.3em); \fill circle (0.1em);}},
		tg/.style={path picture={\draw (-30:0.3em) -- (90:0.3em) -- (210:0.3em) --cycle ;}},]
			\fontsize{4.5}{5} \selectfont
			\def\mylinewidth{1pt}
			\matrix[matrix of nodes,nodes={draw,line width=\mylinewidth,minimum width=1.6em,minimum height=3.2em, anchor=center},column sep=-\mylinewidth,row sep=-\mylinewidth,
				row 2/.style={nodes={rotate=90,minimum width=12.5em,minimum height=1.6em}},
				row 20/.style={nodes={rotate=90,minimum width=8em,minimum height=1.6em}},
				column 2/.style={nodes={align=left,minimum width=3.2em}},
				column 3/.style={nodes={align=center,text width=11em,}}] (mat) {
					& & & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					& & & Capteur optique & Espèces identifiables & Exactitude de l'identification & Nature des données & Conception physique & Autonomie &
					Configurabilité & Fiabilité du systeme & Accès à distance & Facilité d'utilisation &
					Protection des communications & Protection des données du client & Protection de l'environnement & Alarmes & Stockage local & Stockage dans le nuage & Durée de conservation des données & Respect de l'échéancier & Coût du matériel & Coût de la main-d'œuvre \\
					%début Faciliter la communication à distance
					~ & ~ & Faciliter l'accès à distance & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Fournir une vitesse de connexion rapide & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					%fin Faciliter la communication à distance
					%début Maximiser la sécurité
					~ & ~ & Fournir deux niveaux d'alarme & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Limiter l'accès aux personnes authorisées & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					%fin Maximiser la sécurité
					%début Optimiser la prise de données
					~ & ~ & Accumuler des données de qualité & |[cr]| & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & ~ & ~ & ~ \\
					~ & ~ & Fournir un capteur qui facilite l'identification & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Identifier un grand nombre d'espèces & ~ & |[cd]| & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Maximiser l'exactitude de l'identification & |[tg]| & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Respecter les exigences physiques du capteur & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cr]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					%fin Optimiser la prise de données
					%début Optimiser l'automatisation
					~ & ~ & Fournir un systéme configurable & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Offrir une autonomie longue durée & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Permettre le redémarrage automatique & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					%fin Optimiser l'automatisation
					%début Optimiser le stockage
					~ & ~ & Archiver les données de manière accessible & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cr]| & |[cd]| & |[tg]| & ~ & ~ & ~ \\
					~ & ~ & Inclure un stockage fiable et suffisant au capteur & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & |[cr]| & |[tg]| & ~ & ~ & ~ \\
					%fin Optimiser le stockage
					%début Respecter le coût global et l’échéancier
					~ & ~ & Produire un concept à temps & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ \\
					~ & ~ & Réduire les coûts de main-d'œuvre & ~ & |[cr]| & ~ & ~ & ~ & |[cr]| & |[tg]| & |[tg]| & |[cr]| & |[cr]| & |[cr]| & |[cr]| & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & |[cd]| \\
					~ & ~ & Réduire les coûts du matériel & |[cd]| & |[cr]| & ~ & ~ & |[cd]| & ~ & ~ & |[tg]| & |[cr]| & ~ & ~ & ~ & ~ & ~ & |[tg]| & |[tg]| & |[cr]| & ~ & |[cd]| & ~ \\
					%fin Respecter le coût global et l’échéancier
					& & & $\text{Poisson}\ge 6~\text{cm}$ & $> 5 \text{ espèces}$ & ~ & ~ & 15,25 m de profond & $> 14\text{ jours}$ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & 2 niveaux & ~ & ~ & 2 ans & ~ & $< 10~000~\$$ & $< 40~000~\$$ \\
					& & & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
				};
				\node[myfit=(mat-1-4) (mat-1-23)] {\textbf{Critères}};
				\node[myfit=(mat-19-1) (mat-3-1)] (aux1){};
				\node[rotate=90] at (aux1){\textbf{Objectifs}};
				\node[myfit=(mat-4-2) (mat-3-2)] (aux2){};
				\node[rotate=90] at (aux2){\begin{tabular}{c}Faciliter la \\ communication \\ à distance\end{tabular}};
				\node[myfit=(mat-6-2) (mat-5-2)] (aux5){};
				\node[rotate=90] at (aux5){\begin{tabular}{c}Maximiser \\ la sécurité\end{tabular}};
				\node[myfit=(mat-11-2) (mat-7-2)] (aux3){};
				\node[rotate=90] at (aux3){Optimiser la prise de données};
				\node[myfit=(mat-14-2) (mat-12-2)] (aux4){};
				\node[rotate=90] at (aux4){Optimiser l'automatisation};
				\node[myfit=(mat-16-2) (mat-15-2)] (aux6){};
				\node[rotate=90] at (aux6){\begin{tabular}{c}Optimiser \\ le stockage\end{tabular}};
				\node[myfit=(mat-19-2) (mat-17-2)] (aux7){};
				\node[rotate=90] at (aux7){\begin{tabular}{c}Respecter le coût global \\ et l’échéancier\end{tabular}};
				\node[myfit=(mat-21-4) (mat-21-23)]{\textbf{Contraintes}};
				% etc.
				\foreach \X in {4,...,23} {
					\draw[line width=\mylinewidth] (mat-1-\X.north west)
					-- (intersection cs:first line={(mat-1-\X.north west)--($(mat-1-\X.north west)+(45:5)$)},
					second line={(mat-1-23.north east)--($(mat-1-23.north east)+(135:5)$)});
					\draw[line width=\mylinewidth] (mat-1-\X.north east)
					-- (intersection cs:first line={(mat-1-\X.north east)--($(mat-1-\X.north east)+(135:5)$)},
					second line={(mat-1-4.north west)--($(mat-1-4.north west)+(45:5)$)});
				}
				\begin{scope}[shift={(mat-1-4.north west)},x={(45:{sqrt(1/2)*1.6em})},y={(-45:{sqrt(1/2)*1.6em})}]
					\begin{scope}[shift={(0.6,-0.5)}]
						\foreach \CoordCM in {(1,1),(2,1),(3,1),(7,1),%pas officiels
						(5,2),(4,3),(4,4),(5,5),(7,7)}
							{\node at \CoordCM {\Checkmark};} %TODO la grille croisée
					\end{scope} 
				\end{scope}
		\end{tikzpicture}
	\end{tabular}
\end{table}