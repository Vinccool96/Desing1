% !TeX encoding = UTF-8
% !TeX spellcheck = fr_FR


\newpage
\begin{table}[htp]
	\caption{Maison de la qualité}
	\label{t:cdc_mdlq}
	\centering
	\begin{tabular}{c c}
		\begin{tikzpicture}[font=\sffamily,myfit/.style={fill=white,draw,line width=\mylinewidth,inner sep=-0.5*\mylinewidth,fit=#1},
		cr/.style={path picture={\draw circle (0.3em);}},
		cd/.style={path picture={\draw circle (0.3em); \fill circle (0.1em);}},
		tg/.style={path picture={\draw (-30:0.3em) -- (90:0.3em) -- (210:0.3em) --cycle ;}},]
			\matrix[matrix of nodes,column 1/.style={nodes={anchor=center}},column 2/.style={nodes={anchor=west}}](leg){
				\textbf{Symbole} & \textbf{Lien} \\
				|[cd]| & FORT \\
				|[cr]| & MOYEN \\
				|[tg]| & FAIBLE \\
			};
		\end{tikzpicture}
		&
		\begin{tikzpicture}[font=\sffamily,myfit/.style={fill=white,draw,line width=\mylinewidth,inner sep=-0.5*\mylinewidth,fit=#1},
		cr/.style={path picture={\draw circle (0.3em);}},
		cd/.style={path picture={\draw circle (0.3em); \fill circle (0.1em);}},
		tg/.style={path picture={\draw (-30:0.3em) -- (90:0.3em) -- (210:0.3em) --cycle ;}},]
			\fontsize{4}{5} \selectfont
			\def\mylinewidth{1pt}
			\matrix[matrix of nodes,nodes={draw,line width=\mylinewidth,minimum width=1.6em,minimum height=3.2em, anchor=center},column sep=-\mylinewidth,row sep=-\mylinewidth,
				row 2/.style={nodes={rotate=90,minimum width=12em,minimum height=1.6em}},
				row 21/.style={nodes={rotate=90,minimum width=8em,minimum height=1.6em}},
				column 2/.style={nodes={align=left,minimum width=3.2em}},
				column 3/.style={nodes={align=center,text width=11em,}}] (mat) {
					& & & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					& & & Capteur optique & Espèces identifiables & Exactitude de l'identification & Nature des données & Conception physique & Autonomie &
					Configurabilité & Fiabilité du systeme & Acces å distance & Facilité d'utilisation &
					Protection des communications & Protection des données du client & Protection de l'environnement & Alarmes & Stockage local & Stockage dans le nuage & Durée de conservation des données & Respect de l'échéancier & Coût du matériel & Cout de la main d'oeuvre \\
					~ & ~ & Identifier un grand nombre d'espèces & ~ & |[cd]| & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Maximiser l'exactitude de l'identification & |[tg]| & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Accumuler des données de qualité & |[cr]| & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & ~ & ~ & ~ \\
					~ & ~ & Fournir un capteur qui facilite l'identification & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Respecter les exigences physiques du capteur & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cr]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Offrir une autonomie longue durée & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Fournir un systéme configurable & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Permettre le redémarrage automatique & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Fournir un accès à distance efficace & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Faciliter l'accès à distance & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Limiter l'accès aux personnes authorisées & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Chiffrer les communications & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Fournir deux niveaux d'alarme & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ & ~ & ~ & ~ & ~ \\
					~ & ~ & Inclure un stockage fiable et suffisant au capteur & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & |[cr]| & |[tg]| & ~ & ~ & ~ \\
					~ & ~ & Archiver les données de maniére accessible & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cr]| & |[cd]| & |[tg]| & ~ & ~ & ~ \\
					~ & ~ & Produire un concept temps & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & |[cd]| & ~ & ~ \\
					~ & ~ & Réduire les coût du matériel & |[cd]| & |[cr]| & ~ & ~ & |[cd]| & ~ & ~ & |[tg]| & |[cr]| & ~ & ~ & ~ & ~ & ~ & |[tg]| & |[tg]| & |[cr]| & ~ & |[cd]| & ~ \\
					~ & ~ & Réduire les coût de main d'oeuvre & ~ & |[cr]| & ~ & ~ & ~ & |[cr]| & |[tg]| & |[tg]| & |[cr]| & |[cr]| & |[cr]| & |[cr]| & ~ & |[tg]| & ~ & ~ & ~ & ~ & ~ & |[cd]| \\
					& & & $\text{Poisson}\ge 6~\text{cm}$ & $> 5 \text{ espèces}$ & ~ & ~ & 15,25 m de profond & $> 14\text{ jours}$ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & 2 niveaux & ~ & ~ & 2 ans & ~ & $< 10~000~\$$ & $< 40~000~\$$ \\
					& & & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ & ~ \\
			};
			\node[myfit=(mat-1-4) (mat-1-23)] {\textbf{Critères}};
			\node[myfit=(mat-20-1) (mat-3-1)] (aux1){};
			\node[rotate=90] at (aux1){\textbf{Objectifs}};
			\node[myfit=(mat-7-2) (mat-3-2)] (aux2){};
			\node[rotate=90] at (aux2){Optimiser la prise de données};
			\node[myfit=(mat-10-2) (mat-8-2)] (aux3){};
			\node[rotate=90] at (aux3){Optimiser l'automatisation};
			\node[myfit=(mat-12-2) (mat-11-2),text height=6.4em] (aux4){};
			\node[rotate=90] at (aux4){\begin{tabular}{c}Faciliter la \\communication \\ à distance\end{tabular}};
			\node[myfit=(mat-15-2) (mat-13-2)] (aux5){};
			\node[rotate=90] at (aux5){Maximiser la sécurité};
			\node[myfit=(mat-17-2) (mat-16-2)] (aux6){};
			\node[rotate=90] at (aux6){\begin{tabular}{c}Optimiser \\ le stockage\end{tabular}};
			\node[myfit=(mat-20-2) (mat-18-2)] (aux7){};
			\node[rotate=90] at (aux7){\begin{tabular}{c}Respecter les coûts \\ et l'échéancier\end{tabular}};
			\node[myfit=(mat-22-4) (mat-22-23)]{\textbf{Contraintes}};
			
			% etc.
			\foreach \X in {4,...,23}
			{\draw[line width=\mylinewidth] (mat-1-\X.north west)
				-- (intersection cs:first line={(mat-1-\X.north west)--($(mat-1-\X.north west)+(45:5)$)},
				second line={(mat-1-23.north east)--($(mat-1-23.north east)+(135:5)$)});
				\draw[line width=\mylinewidth] (mat-1-\X.north east)
				-- (intersection cs:first line={(mat-1-\X.north east)--($(mat-1-\X.north east)+(135:5)$)},
				second line={(mat-1-4.north west)--($(mat-1-4.north west)+(45:5)$)});
			}
			\begin{scope}[shift={(mat-1-4.north west)},x={(45:{sqrt(1/2)*1.6em})},y={(-45:{sqrt(1/2)*1.6em})}]
			\begin{scope}[shift={(0.6,-0.5)}]
			\foreach \Coord in {(1,1),(2,1),(3,1),(7,1),%pas officiels
				(5,2),(4,3),(4,4),(5,5),(7,7)}
			{\node at \Coord {\checkmark};} %TODO la grille croisée
			\end{scope} 
			\end{scope}
		\end{tikzpicture}
	\end{tabular}
\end{table}